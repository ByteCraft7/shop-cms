{% load i18n %}
{% load static %}
{% load cms_tags sekizai_tags %}

<!DOCTYPE html>
<html lang="{{ LANGUAGE_CODE|default:"en-gb" }}" class="{% block html_class %}no-js{% endblock %}">
    <head>
        <title>{% block title %}{{ shop_name }} - {{ shop_tagline }}{% endblock %}</title>

        <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
        <meta name="created" content="{% now "jS M Y h:i" %}" />
        <meta name="description" content="{% block description %}{% endblock %}" />
        <meta name="viewport" content="{% block viewport %}width=device-width{% endblock %}" />
        <meta http-equiv="Content-Security-Policy"
            content="
                default-src 'self' data: gap: https://ssl.gstatic.com 'unsafe-eval' 'unsafe-inline'; 
                style-src   'self' 'unsafe-inline' https://fonts.googleapis.com;
                style-src-attr  'self' 'unsafe-inline' data: https://fonts.googleapis.com https://fonts.gstatic.com;
                style-src-elem  'self' 'unsafe-inline' data: https://fonts.googleapis.com https://fonts.gstatic.com;
                font-src    'self' data: https://fonts.gstatic.com;
                img-src     'self' data: content:;
                script-src  'self' 'unsafe-inline';
                script-src-elem 'self' 'unsafe-inline' https://ajax.googleapis.com;
                media-src   *;"
        />
    
        {% block favicon %}
            <link rel="shortcut icon" href="{% static "oscar/favicon.ico" %}" />
        {% endblock %}

        {# Block where global CSS will go. #}
        {% block styles %}{% endblock %}

        {# Additional CSS - specific to certain pages #}
        {% block extrastyles %}{% endblock %}

        {% block extrahead %}{% endblock %}
        {% render_block "css" %}
        {% block tracking %}
            {# Default to using Google analytics #}
            {% include "oscar/partials/google_analytics.html" %}
        {% endblock %}
    </head>

    <body id="{% block body_id %}default{% endblock %}" class="{% block body_class %}default{% endblock %}">
        {% cms_toolbar %}
        {# Main content goes in this 'layout' block #}
        {% block layout %}
            {% block content %}{% endblock %}
        {% endblock %}

        {# Scripts loaded from a CDN. #}
        {% block cdn_scripts %}
            <!-- jQuery -->
            <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
            <script>window.jQuery || document.write('<script src="{% static "oscar/js/jquery/jquery.min.js" %}"><\/script>')</script>
        {% endblock %}

        {# Local scripts #}
        {% block scripts %}
        {% endblock %}

        {# Additional JS scripts #}
        {% block extrascripts %}{% endblock %}

        {# Block for body onload functions #}
        <script>
            $(function() {
                {% block onbodyload %}{% endblock %}
            });
        </script>
        {% render_block "js" %}
        {# Page meta-data - this is populated by the 'metadata' template context processor #}
    </body>
</html>
